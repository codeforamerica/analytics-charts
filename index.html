<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- jQuery (Bootstrap requirement) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Bootstrap JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://d3js.org/d3.v4.min.js"></script>

<style>
.chart rect {
  fill: #ff9900;
}

.chart text {
  fill: white;
  font: 14px sans-serif;
  text-anchor: end;
}
</style>

</head>
<body>

<script type="text/javascript">

var margin = {top: 20, right: 10, bottom: 20, left: 10};
var labelPad = 5;
var barHeight = 25
var width = 500 - margin.left - margin.right;

d3.json("data/sample-data.json", function(error, graph) {
    if (error) throw error;
    data = graph.values;
    console.log(data[0].value * barHeight)
    var height = (barHeight * data.length) + margin.top + margin.bottom;

    var chart = d3.select("body").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .attr("class", "chart")
      .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .domain([0, 50])
        .range([0, width]);

    var bar = chart.selectAll("g")
        .data(data)
      .enter().append("g")
        .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });

    bar.append("rect")
        .attr("width", function(d) { return x(d.value) })
        .attr("height", barHeight - 1);

    bar.append("text")
        .attr("x", function(d) { return x(d.value) - labelPad; })
        .attr("y", barHeight / 2)
        .attr("dy", ".35em")
        .text(function(d) { return d.value; });
})

</script>

</body>

</html>
